<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Muse</title>

    <!-- Feuille de CSS -->
    <link href="style.css" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body>
<div id="mobile-blocker">
    <p>Veuillez utiliser un ordinateur pour accéder à ce site.</p>
</div>
<!-- First section -->
<div class="first-section bg-odd content">
    <h1 class="font-extrabold text-5xl pt-10 ps-16">
        <span class="text-color-pink uppercase mt-[-15px]">mu</span>
        <span class="text-color-primary-green uppercase">se.</span>
    </h1>

    <h2 class="font-extrabold flex flex-col pt-16 ps-28">
        <span class="text-color-primary-green text-[600%] z-[1] mb-[-2%]">La galerie d'art</span>
        <div class="text-[250%] text-color-pink z-0">
            <span class="pill-hero-banner bg-even mb-[-5%]">en ligne des talents</span>
        </div>
        <span class="text-color-primary-green text-[600%] z-[1] mt-[-2%]">émergents.</span>
    </h2>

    <div class="flex flex-row-reverse">
        <p class="w-1/2 text-[130%]">
            Exposez vos œuvres en ligne, gagnez en visibilité mondiale, et offrez aux passionnés un espace pour découvrir de
            nouveaux talents.
        </p>
    </div>

    <div class="calendar text-color-pink">
        <div class="first-row text-[1em] flex justify-center p-5">
            Rejoignez-nous avant le lancement !
        </div>
        <div class="second-row text-7xl flex justify-center">
            <div class="first-column flex justify-center items-center tracking-widest">
                30
            </div>
            <div class="second-column flex justify-center items-center">
                J
            </div>
        </div>
    </div>
    <!-- Intersection -->

    <div class="pill-intersection right-24 absolute bg-pink text-color-cream text-[120%] py-4 px-8 rounded-full">
        Lire plus
    </div>
</div>

<!-- Second section -->

<div class="h-screen bg-even content">
    <div class="flex flex-row-reverse">
        <div class="w-1/2">
            <p class="text-[200%] mt-36 text-color-pink">
                Votre galerie 3D immersive GRATUITE vous attend : inscrivez-vous !
            </p>

        </div>
        <div class="mr-[14vw] mt-36">
            <img class=" img-top-s2 w-[35vw]" src="img/img-top-section2.webp" alt="img-1-s2">
            <img class="w-[35vw]" src="img/img-bottom-section2.webp" alt="img-2-s2">
        </div>
    </div>
</div>

<!-- Third section -->

<div class="h-screen bg-odd flex justify-center content">
    <img src="img/notre_galeire.png" alt="img-2" class="w-100 h-full">
</div>

<!-- Fourth section -->

<div class="h-screen bg-even content">
    <p class="w-1/2 text-[200%] pt-36 text-color-pink">
        <span class="underline">Rejoignez-nous</span> avant le lancement officiel pour <span class="underline">profiter</span> d’une <span class="underline">galerie offerte</span>.
    </p>

    <div class="pill">
        <span id="pill-text">Inscrivez-vous pour votre galerie 3D gratuite</span>
        <form id="email-form" class="hidden">
            <input type="email" id="email-input" placeholder="Votre email" required />
            <button type="button" onclick="storeEmail()">Envoyer</button>
        </form>
    </div>
</div>

<script>

    function storeEmail() {
        console.log("Enregistrement de l'email...");
        const email = document.getElementById("email-input").value; // Mise à jour ici

        if (!email) {
            alert("Veuillez entrer un email !");
            return;
        }

        const apiURL = "https://api.jsonbin.io/v3/b/6764558fad19ca34f8dde853"; // ID du Bin
        const apiKey = "$2a$10$IPt1B2vqF.FmT5yKLq8j7OTZSejVlceoeogS9PUeC2bONSpAVtVPi"; // Clé Maître
        const accessKey = "$2a$10$F7EqRjadV187N6AvYl7BOe4QYKekzr1RSbxzCvNKvuQY1mCT93vsy"; // Clé d'Accès

        fetch(`${apiURL}/latest`, {
            method: "GET",
            headers: {
                "X-Master-Key": apiKey,
                "X-Access-Key": accessKey
            }
        })
            .then(response => response.json())
            .then(data => {
                console.log("Données actuelles dans le Bin :", data.record);

                const emails = data.record.emails || {};
                const timestamp = Date.now();
                emails[timestamp] = email;

                console.log("Nouvelles données à envoyer :", { emails });

                return fetch(apiURL, {
                    method: "PUT",
                    headers: {
                        "Content-Type": "application/json",
                        "X-Master-Key": apiKey,
                        "X-Access-Key": accessKey
                    },
                    body: JSON.stringify({ emails })
                });
            })
            .then(response => response.json())
            .then(data => {
                console.log("Réponse JSONBin :", data);
                alert("Email enregistré avec succès !");
            })
            .catch(error => {
                console.error("Erreur :", error);
                alert("Erreur lors de l'envoi des données !");
            });
    }
</script>
</body>
</html>